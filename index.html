<!DOCTYPE html>
<html dir="rtl" lang="fa">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Ø³ÛŒØ³ØªÙ… Ø²Ù…Ø§Ù†â€ŒØ³Ù†Ø¬ÛŒ</title>
  <link rel="manifest" href="manifest.json">
  
  <script>var APP_VERSION = "1.0.7";</script>
  
  <style>
    /* Ø§Ø³ØªØ§ÛŒÙ„ ØµÙØ­Ù‡ Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ */
    #maintenance-overlay {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: #ffffff; z-index: 99999; display: none;
      flex-direction: column; align-items: center; justify-content: center;
      text-align: center; padding: 20px; box-sizing: border-box;
    }
    .update-icon { font-size: 4rem; margin-bottom: 20px; animation: bounce 2s infinite; }
    .update-title { color: #4285f4; font-size: 1.5rem; margin-bottom: 10px; font-family: Tahoma, sans-serif; }
    .update-text { color: #666; font-family: Tahoma, sans-serif; margin-bottom: 30px; line-height: 1.6; }
    .btn-refresh {
      background: #34a853; color: white; border: none; padding: 12px 30px;
      font-size: 1rem; border-radius: 50px; cursor: pointer;
      font-family: Tahoma, sans-serif; font-weight: bold;
      box-shadow: 0 4px 10px rgba(52,168,83,0.3);
    }
    @keyframes bounce { 0%, 20%, 50%, 80%, 100% {transform: translateY(0);} 40% {transform: translateY(-20px);} 60% {transform: translateY(-10px);} }
  </style>
</head>
<body>

  <!-- ØµÙØ­Ù‡ Ø­Ø§Ù„Øª ØªØ¹Ù…ÛŒØ±Ø§Øª -->
  <div id="maintenance-overlay">
    <div class="update-icon">ğŸš€</div>
    <h2 class="update-title">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø³ÛŒØ³ØªÙ…</h2>
    <p class="update-text">Ø³ÛŒØ³ØªÙ… Ø¯Ø± Ø­Ø§Ù„ Ø§Ø±ØªÙ‚Ø§ Ù…ÛŒâ€ŒØ¨Ø§Ø´Ø¯.</p>
    <button class="btn-refresh" onclick="forceReload()">Ø¯Ø±ÛŒØ§ÙØª Ù†Ø³Ø®Ù‡ Ø¬Ø¯ÛŒØ¯</button>
  </div>

  <!-- Ú©Ø§Ù†ØªÛŒÙ†Ø± Ù„ÙˆØ¯ÛŒÙ†Ú¯ (Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯) -->
  <div id="loading-overlay">
    <div class="spinner"></div>
    <p class="loading-text">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...</p>
  </div>

  <!-- Ú©Ø§Ù†ØªÛŒÙ†Ø± Ø¢Ù„Ø±Øª -->
  <div id="custom-alert-overlay" class="hidden">
    <div class="custom-alert-box">
      <div id="alert-icon" class="alert-icon"></div>
      <h3 id="alert-title"></h3>
      <p id="alert-message"></p>
      <div class="alert-buttons">
        <button id="alert-ok" class="btn btn-primary">ØªØ§ÛŒÛŒØ¯</button>
        <button id="alert-cancel" class="btn btn-gray hidden">Ù„ØºÙˆ</button>
      </div>
    </div>
  </div>

  <!-- Ø±ÛŒØ´Ù‡ Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù† -->
  <div id="app-root" class="app-container" style="display:none;"></div>

  <!-- Ù„ÙˆØ¯Ø± Ø§Ø³ØªØ§ÛŒÙ„ Ùˆ Ø§Ø³Ú©Ø±ÛŒÙ¾Øª -->
  <script>
    function forceReload() {
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.getRegistrations().then(function(registrations) {
          for(let registration of registrations) registration.unregister();
          window.location.reload(true);
        });
      } else { window.location.reload(true); }
    }

    var css = document.createElement('link');
    css.rel = 'stylesheet';
    css.href = 'css/style.css?v=' + APP_VERSION;
    document.head.appendChild(css);

    var js = document.createElement('script');
    js.src = 'js/app.js?v=' + APP_VERSION;
    document.body.appendChild(js);

    if ('serviceWorker' in navigator) navigator.serviceWorker.register('sw.js');
  </script>
</body>
</html>